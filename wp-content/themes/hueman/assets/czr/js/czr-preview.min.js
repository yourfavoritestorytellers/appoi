!function(a,b,c){HUPreviewParams&&!HUPreviewParams.preview_ready_event_exists?a.czr_preview=new a.CZR_preview:a.bind("preview-ready",function(){a.czr_preview=new a.CZR_preview}),a.CZR_preview=a.Class.extend({setting_cbs:{},subsetting_cbs:{},_wp_sets:HUPreviewParams.wpBuiltinSettings||[],_theme_options_name:HUPreviewParams.themeOptions,initialize:function(){var a=this;this.setting_cbs=c.extend(a.setting_cbs,a.getSettingCbs()),this.subsetting_cbs=c.extend(a.subsetting_cbs,a.getSubSettingCbs()),this.syncData(),this.addCbs()},getSettingCbs:function(){return{}},getSubSettingCbs:function(){return{}},syncData:function(){a.preview.send("czr-wp-conditional-ready",a.settings.czr_wp_conditionals),a.preview.send("houston-widget-settings",c.extend(_wpWidgetCustomizerPreviewSettings,{availableWidgetLocations:c.values(a.settings.availableWidgetLocations)})),a.preview.send("czr-partial-refresh",c.isUndefined(_customizePartialRefreshExports)?{}:_customizePartialRefreshExports.partials),a.preview.send("czr-scopes-ready",c.has(_wpCustomizeSettings,"czr_scopes")?_wpCustomizeSettings.czr_scopes:"")},addCbs:function(){var b=this;c.each(b.setting_cbs,function(c,d){a.has(b._build_setId(d))&&a(b._build_setId(d)).bind(b.setting_cbs[d])}),a.preview.bind("sub_setting",function(a){var d=b._get_option_name(a.set_id);c.has(b.subsetting_cbs,d)&&c.has(b.subsetting_cbs[d],a.changed_prop)&&b.subsetting_cbs[d][a.changed_prop](a)})},_build_setId:function(a){var b=this;return c.contains(b._wp_sets,a)?a:-1==a.indexOf(b._theme_options_name)?[b._theme_options_name+"[",a,"]"].join(""):a},_get_option_name:function(a){var b=this;return a.replace(/\[|\]/g,"").replace(b._theme_options_name,"")},_is_external:function(a){var c=b.trim(a),d=location.host.split(".").slice(-2).join("."),e=new RegExp(d);return""!==c&&"#"!=c&&_isValidURL(c)?!e.test(c):void 0},_isValidURL:function(a){var b=/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return b.test(a)}})}(wp.customize,jQuery,_);